# 阮一峰closure

- 闭包是核心考点和难点
- 闭包可以帮外部读取函数内部的变量
- 声明变量不带var let const 会自动成为全局变量
  语言精粹 The Good Parts The bad parts
- 如何介绍闭包
  - 函数嵌套函数 (作用域链的嵌套)
    f2 在f1 的里面 形成了一个闭包
  - 内部函数要返回
  - 闭包也叫背包 自由变量不会销毁
    执行先后顺序带来的
    垃圾回收机制 **引用**计数
  - 闭包可能带来内存的泄漏
  - 内层函数叫闭包函数

  闭包就是将函数内部和函数外部连接起来的桥梁

## 闭包的用途
- 读取函数内部的变量
- 让这些变量的值始终保持在内存中
- 怎么说明外部函数的自由变量不会销毁？
  多次执行闭包函数，可以观察
  垃圾回收机制(引用计数)

## 注意？
- 闭包内存消耗比较大 ，可能内存泄漏。
  在退出函数之前，将不使用的局部变量全部销毁
    = null  delete
- 闭包会在父函数外部，改变父函数内部变量的值。
  - 不确定性 **自由**
  - 自由是生命周期